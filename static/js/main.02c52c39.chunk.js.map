{"version":3,"sources":["js/getData.js","components/MainTable.js","components/Logo.js","components/Socket.js","App.js","index.js","images/black.svg"],"names":["url","getData","size","arguments","length","undefined","fetch","toString","then","response","json","catch","error","console","log","MainTable","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","tempData","isLoaded","timestamp","setData","bind","assertThisInitialized","_this2","setState","res","tempMap","Map","data","forEach","el","tempObj","rank","priceUsd","marketCapUsd","vwap24Hr","name","condition","set","id","err","_this3","WebSocket","addEventListener","ev","JSON","parse","get","temp","table","value","className","push","react_default","a","createElement","key","formatUsd","tabIndex","cellPadding","renderTable","onClick","Intl","NumberFormat","style","currency","minimumFractionDigits","format","React","Component","Logo","href","src","logo","alt","App","components_MainTable","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"0QAAIA,EAAI,mCAQOC,MANf,WAA0B,IAATC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAClB,OAAOG,MAAMN,EAAM,UAAYE,EAAKK,YAC/BC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BC,MAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MC4HrBG,cAxHX,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAIVQ,MAAQ,CACJC,cAAUpB,EACVqB,UAAU,EACVC,UAAW,GACXzB,KAAM,IAPNe,EAAKW,QAAUX,EAAKW,QAAQC,KAAbX,OAAAY,EAAA,EAAAZ,CAAAD,IAFAA,yEAYT,IAAAc,EAAAX,KACNA,KAAKY,SAAS,CAAC9B,KAAMkB,KAAKI,MAAMtB,KAAO,KACvCD,EAAQmB,KAAKI,MAAMtB,MAAMM,KAAK,SAAAyB,GACtB,IAAIC,EAAU,IAAIC,IAClBF,EAAIG,KAAKC,QAAS,SAAAC,GACV,IAAIC,EAAU,GACdA,EAAQC,KAAOF,EAAGE,KAClBD,EAAQE,SAAWH,EAAGG,SACtBF,EAAQG,aAAeJ,EAAGI,aAC1BH,EAAQI,SAAWL,EAAGK,SACtBJ,EAAQK,KAAON,EAAGM,KAClBL,EAAQM,UAAY,OAEpBX,EAAQY,IAAIR,EAAGS,GAAIR,KAG3BR,EAAKC,SAAS,CACVP,SAAUS,EACVR,UAAU,MAGpBf,MAAM,SAAAqC,GAAG,OAAInC,QAAQC,IAAIkC,iDAGX,IAAAC,EAAA7B,KAChBA,KAAKQ,UACW,IAAIsB,UA1CP,yCA4CLC,iBAAiB,UAAW,SAAAC,GAChC,IAAIb,EAAUc,KAAKC,MAAMF,EAAGhB,MACxBF,EAAUe,EAAKzB,MAAMC,SACzB,IAAK,IAAIa,KAAMC,EACX,GAAIL,EAAQqB,IAAIjB,GAAK,CACjB,IAAIkB,EAAOtB,EAAQqB,IAAIjB,GACvBkB,EAAKX,UAAYW,EAAKf,SAAWF,EAAQD,GAAM,EAAI,WAAa,WAEhEkB,EAAKf,SAAWF,EAAQD,GACxBJ,EAAQY,IAAIR,EAAIkB,GAGxBP,EAAKjB,SAAS,CAACP,SAAUS,4CAa7B,IAAIuB,EAAQ,GAmBZ,OAlBArC,KAAKI,MAAMC,SAASY,QAAQ,SAACqB,GAGzB,IAAIC,EAAY,MACQ,aAApBD,EAAMb,UACNc,EAAY,gBACe,aAApBD,EAAMb,YACbc,EAAY,iBAEhBD,EAAMb,UAAY,OAClBY,EAAMG,KAAKC,EAAAC,EAAAC,cAAA,MAAIC,IAAKN,EAAMX,GAAIY,UAAWA,GACrCE,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,mBAAmBD,EAAMlB,MACvCqB,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,mBAAmBD,EAAMd,MACvCiB,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,qBAAqB5C,EAAUkD,UAAUP,EAAMjB,WAC7DoB,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,qBAAqB5C,EAAUkD,UAAUP,EAAMhB,eAC7DmB,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,qBAAqB5C,EAAUkD,UAAUP,EAAMf,eAG9Dc,mCAIP,OACII,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,aACXE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,YAAYO,SAAU,GACjCL,EAAAC,EAAAC,cAAA,SAAOI,YAAa,IAChBN,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,mBAAd,QACAE,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,mBAAd,QACAE,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,mBAAd,SACAE,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,qBAAd,cACAE,EAAAC,EAAAC,cAAA,MAAIJ,UAAU,qBAAd,gBAGJE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,UACXE,EAAAC,EAAAC,cAAA,aACC3C,KAAKI,MAAME,SAAWN,KAAKgD,cAAgBP,EAAAC,EAAAC,cAAA,8BAM5DF,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,aACXE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,WACXE,EAAAC,EAAAC,cAAA,UAAQJ,UAAU,gBAAgBU,QAASjD,KAAKQ,SAAhD,oDAxDHU,GACb,OAAO,IAAIgC,KAAKC,aAAa,QACzB,CACIC,MAAO,WAAYC,SAAU,MAC7BC,sBAAwBpC,EAAK,EAAK,EAAI,IACvCqC,OAAOrC,UA/DEsC,IAAMC,2BCJfC,EAAA,kBACfjB,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,aACXE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,YACXE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,iBACXE,EAAAC,EAAAC,cAAA,KAAGgB,KAAK,KAAIlB,EAAAC,EAAAC,cAAA,OAAKiB,IAAKC,IAAMC,IAAK,cCDxBN,IAAMC,UCUZM,MAVf,WACE,OACItB,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,OACbE,EAAAC,EAAAC,cAACe,EAAD,MACAjB,EAAAC,EAAAC,cAACqB,EAAD,QCLRC,IAASC,OAAOzB,EAAAC,EAAAC,cAACwB,EAAD,MAASC,SAASC,eAAe,4BCLjDC,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.02c52c39.chunk.js","sourcesContent":["let url='https://api.coincap.io/v2/assets';\r\n\r\nfunction getData(size=50) {\r\n    return fetch(url + \"?limit=\" + size.toString())\r\n        .then(response => response.json())\r\n        .catch(error => console.log(error))\r\n}\r\n\r\nexport default getData;","import React from \"react\"\r\nimport getData from \"../js/getData\";\r\n\r\nlet url_trades=\"wss://ws.coincap.io/trades/binance\";\r\nlet url_prices = \"wss://ws.coincap.io/prices?assets=bitcoin,ethereum,monero,litecoin\";\r\nlet url_prices_ALL = \"wss://ws.coincap.io/prices?assets=ALL\";\r\n\r\nclass MainTable extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.setData = this.setData.bind(this)\r\n    }\r\n\r\n    state = {\r\n        tempData: undefined,\r\n        isLoaded: false,\r\n        timestamp: \"\",\r\n        size: 50\r\n    };\r\n\r\n    setData() {\r\n        this.setState({size: this.state.size + 50});\r\n        getData(this.state.size).then(res => {\r\n                let tempMap = new Map();\r\n                res.data.forEach((el => {\r\n                        let tempObj = {};\r\n                        tempObj.rank = el.rank;\r\n                        tempObj.priceUsd = el.priceUsd;\r\n                        tempObj.marketCapUsd = el.marketCapUsd;\r\n                        tempObj.vwap24Hr = el.vwap24Hr;\r\n                        tempObj.name = el.name;\r\n                        tempObj.condition = \"Null\";\r\n                        // tempObj.changed = false;\r\n                        tempMap.set(el.id, tempObj);\r\n                    }\r\n                ));\r\n                this.setState({\r\n                    tempData: tempMap,\r\n                    isLoaded: true\r\n                });\r\n            }\r\n        ).catch(err => console.log(err));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setData();\r\n        const tradeWs = new WebSocket(url_prices_ALL);\r\n\r\n        tradeWs.addEventListener(\"message\", ev => {\r\n            let tempObj = JSON.parse(ev.data);\r\n            let tempMap = this.state.tempData;\r\n            for (let el in tempObj) {\r\n                if (tempMap.get(el)) {\r\n                    let temp = tempMap.get(el);\r\n                    temp.condition = temp.priceUsd - tempObj[el] < 0 ? \"Increase\" : \"Decrease\";\r\n                    // temp.changed = true;\r\n                    temp.priceUsd = tempObj[el];\r\n                    tempMap.set(el, temp);\r\n                }\r\n            }\r\n            this.setState({tempData: tempMap})\r\n        });\r\n    }\r\n\r\n    static formatUsd(el) {\r\n        return new Intl.NumberFormat(\"en-US\",\r\n            {\r\n                style: \"currency\", currency: \"USD\",\r\n                minimumFractionDigits: (el > 1) ? 2 : 8\r\n            }).format(el);\r\n    }\r\n\r\n    renderTable() {\r\n        let table = [];\r\n        this.state.tempData.forEach((value) => {\r\n            // let className = value.changed ? \"changed_row\" : \"row\";\r\n            // value.changed = false;\r\n            let className = \"row\";\r\n            if (value.condition === \"Increase\") {\r\n                className = \"increased_row\";\r\n            } else if (value.condition === \"Decrease\") {\r\n                className = \"decreased_row\";\r\n            }\r\n            value.condition = \"Null\";\r\n            table.push(<tr key={value.id} className={className}>\r\n                <td className=\"app-table__rank\">{value.rank}</td>\r\n                <td className=\"app-table__name\">{value.name}</td>\r\n                <td className=\"app-table__fields\">{MainTable.formatUsd(value.priceUsd)}</td>\r\n                <td className=\"app-table__fields\">{MainTable.formatUsd(value.marketCapUsd)}</td>\r\n                <td className=\"app-table__fields\">{MainTable.formatUsd(value.vwap24Hr)}</td>\r\n            </tr>)\r\n        });\r\n        return table;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div className=\"app-table\" tabIndex={0}>\r\n                        <table cellPadding={10}>\r\n                            <thead>\r\n                            <tr>\r\n                                <th className=\"app-table__rank\">Rank</th>\r\n                                <th className=\"app-table__name\">Name</th>\r\n                                <th className=\"app-table__rank\">Price</th>\r\n                                <th className=\"app-table__fields\">Market Cap</th>\r\n                                <th className=\"app-table__fields\">VWAP (24h)</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <div className=\"scroll\">\r\n                                <tbody>\r\n                                {this.state.isLoaded ? this.renderTable() : <div>loading...</div>}\r\n                                </tbody>\r\n                            </div>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <div className=\"app-btn\">\r\n                        <button className=\"app-btn__view\" onClick={this.setData}>View more</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainTable;","import React from \"react\"\r\nimport logo from \"../images/black.svg\"\r\n\r\nexport default ()=>(\r\n<div className=\"container\">\r\n    <div className=\"app-logo\">\r\n        <div className=\"app-logo__img\">\r\n            <a href=\"/\"><img src={logo} alt={\"logo\"}/></a>\r\n        </div>\r\n    </div>\r\n</div>)","import React from \"react\"\r\n\r\nlet url_trades=\"wss://ws.coincap.io/trades/binance\";\r\nlet url_prices = \"wss://ws.coincap.io/prices?assets=bitcoin,ethereum,monero,litecoin\";\r\nlet url_prices_ALL = \"wss://ws.coincap.io/prices?assets=ALL\";\r\n\r\nclass Socket extends React.Component {\r\n\r\n    state = {\r\n        timestamp: null\r\n    };\r\n\r\n    componentDidMount() {\r\n        const tradeWs = new WebSocket(url_prices_ALL);\r\n        tradeWs.addEventListener(\"message\", ev => {\r\n            console.log(JSON.parse(ev.data));\r\n        });\r\n        this.setState({timestamp: \"\"});\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.state);\r\n        return (\r\n            <div className=\"App\">\r\n                <p className=\"App-intro\">\r\n                    This is the timer value: {this.state.timestamp}\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Socket;","import React from 'react';\nimport './App.css';\nimport MainTable from \"./components/MainTable\";\nimport Logo from \"./components/Logo\"\nimport Socket from \"./components/Socket\";\n\nfunction App() {\n  return (\n      <div className=\"app\">\n        <Logo/>\n        <MainTable/>\n        {/*<Socket/>*/}\n      </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","module.exports = __webpack_public_path__ + \"static/media/black.792189d6.svg\";"],"sourceRoot":""}