(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t(18)},16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(8),c=t.n(s),l=(t(16),t(17),t(1)),i=t(2),o=t(5),m=t(4),d=t(3),p=t(6),u="https://api.coincap.io/v2/assets";var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return fetch(u+"?limit="+e.toString()).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},f=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={tempData:void 0,isLoaded:!1,timestamp:"",size:50},t.setData=t.setData.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"setData",value:function(){var e=this;this.setState({size:this.state.size+50}),v(this.state.size).then(function(a){var t=new Map;a.data.forEach(function(e){var a={};a.rank=e.rank,a.priceUsd=e.priceUsd,a.marketCapUsd=e.marketCapUsd,a.vwap24Hr=e.vwap24Hr,a.name=e.name,a.condition="Null",t.set(e.id,a)}),e.setState({tempData:t,isLoaded:!0})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){var e=this;this.setData(),new WebSocket("wss://ws.coincap.io/prices?assets=ALL").addEventListener("message",function(a){var t=JSON.parse(a.data),n=e.state.tempData;for(var r in t)if(n.get(r)){var s=n.get(r);s.condition=s.priceUsd-t[r]<0?"Increase":"Decrease",s.priceUsd=t[r],n.set(r,s)}e.setState({tempData:n})})}},{key:"renderTable",value:function(){var e=[];return this.state.tempData.forEach(function(t){var n="row";"Increase"===t.condition?n="increased_row":"Decrease"===t.condition&&(n="decreased_row"),t.condition="Null",e.push(r.a.createElement("tr",{key:t.id,className:n},r.a.createElement("td",{className:"app-table__rank"},t.rank),r.a.createElement("td",{className:"app-table__name"},t.name),r.a.createElement("td",{className:"app-table__fields"},a.formatUsd(t.priceUsd)),r.a.createElement("td",{className:"app-table__fields"},a.formatUsd(t.marketCapUsd)),r.a.createElement("td",{className:"app-table__fields"},a.formatUsd(t.vwap24Hr))))}),e}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"app-table",tabIndex:0},r.a.createElement("table",{cellPadding:10},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"app-table__rank"},"Rank"),r.a.createElement("th",{className:"app-table__name"},"Name"),r.a.createElement("th",{className:"app-table__rank"},"Price"),r.a.createElement("th",{className:"app-table__fields"},"Market Cap"),r.a.createElement("th",{className:"app-table__fields"},"VWAP (24h)"))),r.a.createElement("div",{className:"scroll"},r.a.createElement("tbody",null,this.state.isLoaded?this.renderTable():r.a.createElement("div",null,"loading...")))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"app-btn"},r.a.createElement("button",{className:"app-btn__view",onClick:this.setData},"View more"))))}}],[{key:"formatUsd",value:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:e>1?2:8}).format(e)}}]),a}(r.a.Component),E=t(9),h=t.n(E),b=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"app-logo"},r.a.createElement("div",{className:"app-logo__img"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:h.a,alt:"logo"})))))};r.a.Component;var N=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(b,null),r.a.createElement(f,null))};c.a.render(r.a.createElement(N,null),document.getElementById("root"))},9:function(e,a,t){e.exports=t.p+"static/media/black.792189d6.svg"}},[[10,1,2]]]);
//# sourceMappingURL=main.02c52c39.chunk.js.map